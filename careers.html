<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8th Avenue Pharmacy</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/styles.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <style>
        body {
            font-family: "Garamond", serif;
        }

        #jobs ul {
            list-style-image: url("./images/caret.svg");
            margin-left: 1rem;
        }
    </style>
</head>

<body>
    <header class="sticky top-0 z-50 bg-white shadow-md">
        <nav
            class="navbar navbar-expand-lg py-2 bg-white relative flex items-center w-full justify-between mx-auto max-w-[95%] md:max-w-[85%]">
            <div class="px-4 md:px-8 w-full flex flex-wrap items-center justify-between">
                <a href="./index.html" class="flex flex-center font-semibold">8th Avenue Pharmacy</a>
                <ul class="navbar-nav ml-auto flex gap-4">
                    <li class="nav-item">
                        <a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out"
                            href="./index.html" data-mdb-ripple="true" data-mdb-ripple-color="light">Home</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <section class="min-h-[65vh] mt-10 mx-auto max-w-[95%] md:max-w-[85%]">
        <h2 class="text-center text-3xl">Careers</h2>
        <div class="xl:w-1/2 mx-auto px-2 py-6">
            <input type="search" class="
            form-control
            block
            w-full
            px-3
            py-3
            text-base
            font-normal
            text-gray-700
            bg-white bg-clip-padding
            border border-solid border-gray-300
            rounded
            transition
            ease-in-out
            m-0
            focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none
          " id="myInput" onkeyup="myFunction()" placeholder="Search for positions or locations." />
        </div>
        <div id="jobpostings">
            <div class="flex flex-col mx-auto mt-4 mb-16 w-full md:max-w-[90%] p-4 border rounded-md" data-job-id="1">
                <h4 class="text-lg text-center font-bold">Job Opening for Regulatory and Compliance Analyst</h4><br />
                <h4 class="text-md text-center font-bold leading-10">The following website advertisement will be posted
                    from</h4>
                <h4 class="text-md text-center font-bold">01/09/2023 - 01/31/2023</h4><br />
                Regulatory and Compliance Analyst needed w/Bachelors degree or Foreign Equivalent in Pharmacy or
                Pharmaceutical Science and two (2) years experience as Regulatory and Compliance Analyst or Jr.<br />
                Regulatory and Compliance Analyst performing following job duties:<br />
                Promote continuous improvement in internal audit process and risk assessment affecting business. Support
                research component of pharmacy department through development of automated processes and ensure
                compliance of health plan policy, procedures and regulatory standards. Perform risk analysis activities
                to maintain accuracy in dispensing. Review patient complaints for medication safety and patient
                awareness for Health. Develop operating procedures, coordinate logistics/diagnostic codes entered in the
                system. Develop and implement operating procedures ensuring corrective and preventive action. Involve in
                procedural review of third-party audit, monitoring drug recall and product recall. Provide the required
                State, Federal, Medicaid and Medicare laws compliance support and perform DEA regulations compliance
                including bringing together the documentation of expired Controlled substance and the inventory
                management of control substance. Monitor ICD-9 and CPT codes for accuracy of billing insurance.<br />
                Mail Resumes to:<br />
                GSPM Pharmacy Inc., d/b/a 8th Avenue Pharmacy<br />
                2830 Frederick Douglass Blvd., New York, NY 10039<br />
                Job Location: NYC<br />
            </div>
        </div>

        <!-- <div id="jobs" class="flex flex-col mx-auto gap-4 mt-4 mb-16 w-full md:max-w-[80%]"></div> -->

        <div class="text-xl m-8 min-h-[50vh] text-center text-gray-700 flex justify-center items-center" id="nojobs">No job openings! Please check back
            later.</div>
    </section>

    <footer class="mx-auto max-w-[95%] md:max-w-[85%]">
        <!-- <div class="mx-8 px-2 py-6 border-t grid gap-4 md:gap-0 grid-cols-1 md:grid-cols-5">
            <div class="flex flex-col gap-2 md:gap-4 md:col-start-1">
                <h2 class="text-lg font-bold md:font-semibold">Contact</h2>
                <div class="flex gap-2">
                    <div>
                        <i class="bi bi-geo-alt text-lg"></i>
                    </div>
                    <div>
                        <a class="hover:underline hover:underline-offset-2"
                            href="https://maps.google.com/?q=8th+avenue+pharmacy+2830+Frederick+Douglass+Blvd+New+York+NY"
                            target="_blank">
                            2830 Frederick Douglass Blvd <br />
                            New York, NY, 10039
                        </a>
                    </div>
                </div>
                <div class="flex gap-2">
                    <div>
                        <i class="bi bi-telephone text-lg"></i>
                    </div>
                    <div>
                        <a href="tel:+2122343900" class="hover:underline hover:underline-offset-2">(212) 234-3900</a>
                    </div>
                </div>
                <div class="flex gap-2">
                    <div>
                        <i class="bi bi-printer text-lg"></i>
                    </div>
                    <div>
                        <a href="tel:+2122343390" class="hover:underline hover:underline-offset-2">(212) 234-3390</a>
                    </div>
                </div>
                <div class="flex gap-2">
                    <div>
                        <i class="bi bi-envelope text-lg"></i>
                    </div>
                    <div>
                        <a href="mailto:gspmrx@gmail.com"
                            class="hover:underline hover:underline-offset-2">gspmrx@gmail.com</a>
                    </div>
                </div>
            </div>
            <div class="flex flex-col gap-2 md:gap-4 md:col-start-3">
                <h2 class="text-lg font-bold md:font-semibold">Timings</h2>
                <ul class="flex flex-col gap-1">
                    <li>MON - FRI : 9 A.M - 7 P.M</li>
                    <li></li>SAT : 10 A.M - 5 P.M</li>
                    <li>SUN : Closed</li>
                </ul>
            </div>
            <div class="flex flex-col justify-between md:col-start-5">
                <div class="flex flex-col gap-2 md:gap-4">
                    <h2 class="text-lg font-bold md:font-semibold">Follow us @</h2>
                    <div class="flex">
                        <a href="https://www.facebook.com/people/8th-Avenue-Pharmacy/100063578620024/"><i
                                class="bi bi-facebook text-3xl text-[#3b5998]"></i></a>
                    </div>
                </div>
            </div>
        </div> -->
        <div class="mx-8 px-2 py-6 border-t text-gray-500 text-center md:text-end">&copy; Copyright&nbsp;<span
                id="year"></span>&nbsp;8<sup>th</sup> Avenue Pharmacy</div>
    </footer>

    <template id="jobposting">
        <div class="mx-2 p-4 border rounded-md job flex flex-col gap-2">
            <h3 class="text-xl font-semibold title"></h3>
            <p class="text-lg desc"></p>
            <h4 class="text-lg"><span class="font-semibold">Job location:</span> <span class="text-md location"></span>
            </h4>
            <h4 class="text-lg font-semibold">Job duties:</h4>
            <ul class="text-md duties"></ul>
            <h4 class="text-lg font-semibold">Job provider:</h4>
            <p class="provider"></p>
        </div>
    </template>

    <script type="text/javascript">
        document.getElementById('year').innerText = new Date().getFullYear();

        const jobs = [
            {
                id: '1',
                title: 'Regulatory and Compliance Analyst',
                desc: 'Regulatory and Compliance Analyst needed w/Bachelors degree or Foreign Equivalent in Pharmacy or Pharmaceutical Science and two (2) years experience as Regulatory and Compliance Analyst or Jr.',
                location: 'NYC',
                duties: [
                    'Promote continuous improvement in internal audit process and risk assessment affecting business.',
                    'Support research component of pharmacy department through development of automated processes and ensure compliance of health plan policy, procedures and regulatory standards.',
                    'Perform risk analysis activities to maintain accuracy in dispensing. Review patient complaints for medication safety and patient awareness for Health.',
                    'Develop operating procedures, coordinate logistics/diagnostic codes entered in the system.',
                    'Develop and implement operating procedures ensuring corrective and preventive action.',
                    'Involve in procedural review of third-party audit, monitoring drug recall and product recall.',
                    'Provide the required State, Federal, Medicaid and Medicare laws compliance support and perform DEA regulations compliance including bringing together the documentation of expired Controlled substance and the inventory management of control substance.',
                    'Monitor ICD-9 and CPT codes for accuracy of billing insurance.'
                ],
                provider: 'GSPM Pharmacy Inc., d/b/a 8th Avenue Pharmacy<br />2830 Frederick Douglass Blvd., New York, NY 10039',
                positingStartDate: '01/09/2023',
                positingEndDate: '01/31/2023'
            }
        ];

        const showJobs = () => {
            const container = document.getElementById('jobpostings');
            const today = new Date();
            let count = 0;
            jobs.forEach(job => {
                const from = Date.parse(job.positingStartDate);
                const till = Date.parse(job.positingEndDate);

                const els = container.querySelectorAll(`[data-job-id]`);
                els.forEach(el => {
                    if (el.dataset['jobId'] == job.id) {
                        el.classList.toggle('hidden', !(today >= from && today <= till));
                        if ((today >= from && today <= till)) {
                            count++;
                        }
                    }
                })
            });

            document.getElementById('nojobs').classList.toggle('hidden', count);
        };

        showJobs();

        const displayJobs = () => {
            const today = new Date();
            let count = 0;
            if ('content' in document.createElement('template')) {
                const container = document.getElementById('jobs');
                const template = document.querySelector('#jobposting');

                jobs.forEach(job => {
                    const clone = template.content.cloneNode(true);

                    const from = Date.parse(job.positingStartDate) || new Date();
                    const till = Date.parse(job.positingEndDate);

                    if (today >= from && today <= till) {
                        count++;
                        const post = clone.querySelector('.job');
                        post.querySelector('.title').innerText = job.title;
                        post.querySelector('.desc').innerText = job.desc;
                        post.querySelector('.location').innerText = job.location;
                        post.querySelector('.provider').innerHTML = job.provider;

                        job.duties.forEach(duty => {
                            const li = document.createElement('li');
                            li.innerText = duty;
                            post.querySelector('.duties').appendChild(li);
                        });

                        container.appendChild(clone);
                    }
                });
            } else {
                const container = document.getElementById('jobs');
                jobs.forEach(job => {
                    const from = Date.parse(job.positingStartDate) || new Date();
                    const till = Date.parse(job.positingEndDate);

                    if (today >= from && today <= till) {
                        count++;
                        const template = `
                        <h3 class="text-xl">${job.title}</h3>
                        <p class="text-lg">${job.desc}</p>
                        <h4 class="text-lg">Job location: <span class="text-md">${job.location}</span></h4>
                        <h4 class="text-lg">Job duties:</h4>
                        <ul class="text-md duties"></ul>
                        <h4 class="text-lg">Job provider:</h4>
                        <p>${job.provider}</p>
                    `;

                        const div = document.createElement('div');
                        div.classList.add('mx-2', 'p-4', 'border', 'rounded-md');
                        div.innerHTML = template;
                        job.duties.forEach(duty => {
                            const li = document.createElement('li');
                            li.innerText = duty;
                            div.querySelector('.duties').appendChild(li);
                        });
                        container.appendChild(div);
                    }
                });
            }

            document.getElementById('nojobs').classList.toggle('hidden', count);
        };

        // displayJobs();

        const myFunction = () => {
            const divs = document.querySelectorAll('#jobpostings')
            const filter = document.querySelector('#myInput').value
            const regex = new RegExp(filter, 'i')
            const isFoundInTds = div => regex.test(div.innerHTML)
            const isFound = childrenArr => childrenArr.some(isFoundInTds)
            const setDivStyleDisplay = ({ style, children }) => {
                style.display = isFound([
                    ...children
                ]) ? '' : 'none'
            }

            divs.forEach(setDivStyleDisplay)
        }
    </script>
</body>

</html>